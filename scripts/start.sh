#!/bin/bash

# ุณูุฑูุจุช ุจุฏุก ุชุดุบูู ูุธุงู ุฅุฏุงุฑุฉ ุงูููุงููุงุช

echo "๐ ุจุฏุก ุชุดุบูู ูุธุงู ุฅุฏุงุฑุฉ ุงูููุงููุงุช..."

# ุงูุชุญูู ูู ูุฌูุฏ Node.js
if ! command -v node &> /dev/null; then
    echo "โ Node.js ุบูุฑ ูุซุจุช"
    exit 1
fi

# ุงูุชุญูู ูู ูุฌูุฏ npm
if ! command -v npm &> /dev/null; then
    echo "โ npm ุบูุฑ ูุซุจุช"
    exit 1
fi

# ุชุซุจูุช ุงูุชุจุนูุงุช
echo "๐ฆ ุชุซุจูุช ุงูุชุจุนูุงุช..."
npm install

# ุชุดุบูู ูุงุนุฏุฉ ุงูุจูุงูุงุช
echo "๐๏ธ ุชุดุบูู ูุงุนุฏุฉ ุงูุจูุงูุงุช..."
docker-compose up -d postgres

# ุงูุชุธุงุฑ ุชุดุบูู ูุงุนุฏุฉ ุงูุจูุงูุงุช
echo "โณ ุงูุชุธุงุฑ ุชุดุบูู ูุงุนุฏุฉ ุงูุจูุงูุงุช..."
sleep 10

# ุชุดุบูู ุงูุชุทุจูู
echo "๐ ุชุดุบูู ุงูุชุทุจูู..."
npm run dev

echo "โ ุชู ุจุฏุก ุงูุชุดุบูู ุจูุฌุงุญ!"